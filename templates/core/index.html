{% extends 'core/base.html' %}
{% load static i18n widget_tweaks %}

{% block title %}
{% trans "A121 Evolution - A Revolução do Futuro" %}
{% endblock %}

{% block extra_head %}
<!-- Pré-carregar o vídeo para melhorar a performance -->
<link rel="preload" href="{% static 'videos/videofuturisticteste.mp4' %}" as="video" type="video/mp4">
<!-- Carregar Three.js e A-Frame para hologramas e AR -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
{% endblock %}

{% block content %}
<!-- Seção Hero -->
<section class="hero section-transition" id="hero" aria-labelledby="hero-title">
    <video id="hero-video" autoplay muted loop playsinline preload="auto" class="hero-video">
        <source src="{% static 'videos/videofuturisticteste.mp4' %}" type="video/mp4">
        {% trans "Seu navegador não suporta vídeos." %}
    </video>
    <div class="container">
        <h1 id="hero-title">{% trans "A121 Evolution" %}</h1>
        <h2>{% trans "Faça Parte da Revolução Global do Futuro" %}</h2>
        <p>{% trans "Transforme sua vida com tecnologia, inovação e oportunidades ilimitadas. O futuro começa com você!" %}</p>
        <div class="hero-buttons">
            <a href="{% url 'core:cursos' %}" class="btn btn-primary">{% trans "Explore Nossos Cursos" %}</a>
            <a href="{% url 'core:index' %}#mmn" class="btn btn-secondary">{% trans "Descubra Nosso Negócio" %}</a>
        </div>
    </div>
</section>

<!-- Seção de Cursos -->
<section class="courses section-transition" id="cursos" aria-labelledby="courses-title">
    <div class="container">
        <h2 id="courses-title">{% trans "Cursos Exclusivos para Criadores de Conteúdo" %}</h2>
        <p class="section-subtitle">{% trans "Domine finanças, IA e leilões para transformar sua vida e seus negócios." %}</p>
        <div class="course-grid">
            <div class="course-card">
                <div class="course-image-wrapper">
                    <img src="{% static 'images/A121.png' %}" alt="{% trans 'Introdução à IA' %}" class="course-image" loading="lazy">
                </div>
                <h3>{% trans "Introdução à IA para Criadores" %}</h3>
                <p>{% trans "Aprenda como usar inteligência artificial para criar conteúdo inovador e automatizar processos." %}</p>
                <p>{% trans "Preço" %}: <span class="course-price" data-price="249.90">249.90 €</span></p>
                <p>{% trans "Duração" %}: 12 {% trans "horas" %}</p>
                <a href="{% url 'core:cadastro' %}" class="btn btn-course">{% trans "Inscrever-se Agora" %}</a>
            </div>
            <div class="course-card">
                <div class="course-image-wrapper">
                    <img src="{% static 'images/iPhone 15 Pro Max (512GB).jpg' %}" alt="{% trans 'Finanças para Criadores' %}" class="course-image" loading="lazy">
                </div>
                <h3>{% trans "Finanças para Criadores de Conteúdo" %}</h3>
                <p>{% trans "Domine suas finanças pessoais e aprenda a lucrar mais com seus conteúdos." %}</p>
                <p>{% trans "Preço" %}: <span class="course-price" data-price="199.90">199.90 €</span></p>
                <p>{% trans "Duração" %}: 10 {% trans "horas" %}</p>
                <a href="{% url 'core:cadastro' %}" class="btn btn-course">{% trans "Inscrever-se Agora" %}</a>
            </div>
            <div class="course-card">
                <div class="course-image-wrapper">
                    <img src="{% static 'images/iPhone 16 Pro Max Titanio Deserto.jpg' %}" alt="{% trans 'Leilões Lucrativos' %}" class="course-image" loading="lazy">
                </div>
                <h3>{% trans "Leilões Lucrativos" %}</h3>
                <p>{% trans "Descubra como ganhar dinheiro com leilões online e físicos, passo a passo." %}</p>
                <p>{% trans "Preço" %}: <span class="course-price" data-price="299.90">299.90 €</span></p>
                <p>{% trans "Duração" %}: 15 {% trans "horas" %}</p>
                <a href="{% url 'core:cadastro' %}" class="btn btn-course">{% trans "Inscrever-se Agora" %}</a>
            </div>
        </div>
        <div class="testimonials">
            <h3>{% trans "O que Nossos Alunos Dizem" %}</h3>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <p>{% trans "“O curso de IA mudou minha forma de criar conteúdo. Hoje, automatizo tudo e ganho mais!”" %}</p>
                    <h4>{% trans "João Silva, Criador de Conteúdo" %}</h4>
                </div>
                <div class="testimonial-card">
                    <p>{% trans "“Aprendi a investir com o curso de finanças. Minha renda triplicou em 6 meses!”" %}</p>
                    <h4>{% trans "Maria Oliveira, Empreendedora" %}</h4>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Seção de Produtos -->
<section class="products section-transition" id="produtos" aria-labelledby="products-title">
    <div class="container">
        <h2 id="products-title">{% trans "iPhones Exclusivos A121 Evolution" %}</h2>
        <p class="section-subtitle">{% trans "Tecnologia de ponta para quem busca o futuro. Visualize em Realidade Aumentada!" %}</p>
        <div class="product-grid">
            <div class="product-card" data-product="iphone15">
                <div class="hologram-product hologram-iphone15"></div>
                <div class="product-image-wrapper">
                    <img src="{% static 'images/iPhone 15 Pro Max (512GB).jpg' %}" alt="{% trans 'iPhone 15 Pro Max' %}" class="product-image" loading="lazy">
                    <a href="#" class="ar-button">{% trans "Ver em AR" %}</a>
                    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">
                        <a-assets>
                            <a-asset-item id="iphone15-model" src="{% static 'models/iphone15.glb' %}"></a-asset-item>
                        </a-assets>
                        <a-entity gltf-model="#iphone15-model" scale="0.1 0.1 0.1" position="0 0 -1" visible="false"></a-entity>
                        <a-marker-camera preset="hiro"></a-marker-camera>
                    </a-scene>
                </div>
                <h3>{% trans "iPhone 15 Pro Max (512GB)" %}</h3>
                <p>{% trans "O mais avançado iPhone com câmera revolucionária e desempenho incomparável." %}</p>
                <p>{% trans "Preço" %}: <span class="product-price" data-price="1399.00">1399.00 €</span></p>
                <a href="#" class="btn btn-product view-product" data-product="iphone15">{% trans "Comprar Agora" %}</a>
            </div>
            <div class="product-card" data-product="iphone16">
                <div class="hologram-product hologram-iphone16"></div>
                <div class="product-image-wrapper">
                    <img src="{% static 'images/iPhone 16 Pro Max Titanio Deserto.jpg' %}" alt="{% trans 'iPhone 16 Pro Max' %}" class="product-image" loading="lazy">
                    <a href="#" class="ar-button">{% trans "Ver em AR" %}</a>
                    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">
                        <a-assets>
                            <a-asset-item id="iphone16-model" src="{% static 'models/iphone16.glb' %}"></a-asset-item>
                        </a-assets>
                        <a-entity gltf-model="#iphone16-model" scale="0.1 0.1 0.1" position="0 0 -1" visible="false"></a-entity>
                        <a-marker-camera preset="hiro"></a-marker-camera>
                    </a-scene>
                </div>
                <h3>{% trans "iPhone 16 Pro Max Titânio Deserto" %}</h3>
                <p>{% trans "Design futurista com tecnologia de ponta para o futuro." %}</p>
                <p>{% trans "Preço" %}: <span class="product-price" data-price="1499.00">1499.00 €</span></p>
                <a href="#" class="btn btn-product view-product" data-product="iphone16">{% trans "Comprar Agora" %}</a>
            </div>
        </div>
    </div>
</section>

<!-- Seção de Marketing Multinível -->
<section class="mmn section-transition" id="mmn" aria-labelledby="mmn-title">
    <div class="container">
        <h2 id="mmn-title">{% trans "Marketing Multinível A121 Evolution" %}</h2>
        <p class="section-subtitle">{% trans "Transforme sua vida financeira com nosso plano de MMN revolucionário!" %}</p>
        <div class="mmn-content">
            <div class="mmn-info">
                <h3>{% trans "Por que Escolher Nosso MMN?" %}</h3>
                <ul>
                    <li>{% trans "Comissões de até 50% por indicação direta." %}</li>
                    <li>{% trans "Bônus por equipes de até 7 níveis." %}</li>
                    <li>{% trans "Treinamento exclusivo para líderes." %}</li>
                    <li>{% trans "Pagamentos semanais e transparentes." %}</li>
                </ul>
                <a href="{% url 'core:cadastro' %}" class="btn btn-mmn">{% trans "Junte-se Agora" %}</a>
            </div>
            <div class="mmn-testimonials">
                <h3>{% trans "Histórias de Sucesso" %}</h3>
                <div class="testimonial-card">
                    <p>{% trans "“Em 3 meses, ganhei €10.000 com o MMN da A121. Minha vida mudou!”" %}</p>
                    <h4>{% trans "Carlos Mendes, Líder de Equipe" %}</h4>
                </div>
                <div class="testimonial-card">
                    <p>{% trans "“O treinamento da A121 me transformou em um líder. Hoje, minha equipe fatura milhões!”" %}</p>
                    <h4>{% trans "Ana Costa, Empreendedora" %}</h4>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Seção de Cadastro Avançado -->
<section class="cadastro-section section-transition" id="cadastro" aria-labelledby="cadastro-title">
    <div class="cadastro-container">
        <h2 id="cadastro-title" class="title-glow">{% trans "Junte-se à Revolução A121" %}</h2>
        <p class="subtitle">{% trans "Registre-se agora e desbloqueie um mundo de oportunidades!" %}</p>
        <form class="cadastro-form" method="post" id="cadastro-form">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-field">
                    {{ field.label_tag }}
                    {{ field|add_class:"input-glow" }}
                    {% if field.errors %}
                        <div class="error">{{ field.errors }}</div>
                    {% endif %}
                </div>
            {% endfor %}
            <button type="submit" class="btn-glow">{% trans "Registrar-se" %}</button>
        </form>
        <p class="form-footer">{% trans "Já tem uma conta?" %} <a href="{% url 'core:login' %}" class="link-glow">{% trans "Faça Login" %}</a></p>
    </div>
</section>

<!-- Seção de Login -->
<section class="login-section section-transition" id="login" aria-labelledby="login-title">
    <div class="login-container">
        <h2 id="login-title" class="title-glow">{% trans "Conecte-se à A121 Evolution" %}</h2>
        <p class="subtitle">{% trans "Faça login para acessar suas oportunidades!" %}</p>
        <form class="cadastro-form" method="post" id="login-form">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-field">
                    {{ field.label_tag }}
                    {{ field|add_class:"input-glow" }}
                    {% if field.errors %}
                        <div class="error">{{ field.errors }}</div>
                    {% endif %}
                </div>
            {% endfor %}
            <button type="submit" class="btn-glow">{% trans "Entrar" %}</button>
        </form>
        <p class="form-footer">{% trans "Não tem uma conta?" %} <a href="{% url 'core:cadastro' %}" class="link-glow">{% trans "Registre-se" %}</a></p>
    </div>
</section>

<style>
    .hero {
        position: relative;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        overflow: hidden;
    }
    .hero-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
        filter: brightness(0.8);
    }
    .hero h1 {
        font-family: 'Orbitron', sans-serif;
        font-size: 4.5rem;
        color: #00ffcc;
        text-shadow: 0 0 25px rgba(0, 255, 204, 0.9);
        margin-bottom: 20px;
    }
    .hero h2 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        color: #fff;
        text-shadow: 0 0 20px rgba(0, 255, 204, 0.6);
        margin-bottom: 20px;
    }
    .hero p {
        font-family: 'Roboto', sans-serif;
        font-size: 1.6rem;
        color: #fff;
        text-shadow: 0 0 15px rgba(0, 255, 204, 0.4);
        margin-bottom: 30px;
    }
    .hero-buttons {
        display: flex;
        gap: 25px;
        justify-content: center;
    }
    .btn {
        padding: 15px 35px;
        border-radius: 5px;
        text-decoration: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
    }
    .btn-primary {
        background: #00ffcc;
        color: #000;
        box-shadow: 0 0 25px rgba(0, 255, 204, 0.7);
    }
    .btn-primary:hover {
        background: #00ccff;
        box-shadow: 0 0 35px rgba(0, 204, 255, 0.9);
    }
    .btn-secondary {
        background: transparent;
        border: 2px solid #00ffcc;
        color: #00ffcc;
        box-shadow: 0 0 25px rgba(0, 255, 204, 0.7);
    }
    .btn-secondary:hover {
        background: #00ffcc;
        color: #000;
        box-shadow: 0 0 35px rgba(0, 204, 255, 0.9);
    }
    .courses {
        padding: 100px 0;
        background: rgba(0, 0, 0, 0.95);
    }
    .courses h2 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        color: #00ffcc;
        text-align: center;
        margin-bottom: 25px;
        text-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
    }
    .section-subtitle {
        font-family: 'Roboto', sans-serif;
        font-size: 1.3rem;
        color: #fff;
        text-align: center;
        margin-bottom: 50px;
    }
    .course-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 35px;
    }
    .course-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid #00ffcc;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .course-card:hover {
        transform: translateY(-15px);
        box-shadow: 0 0 40px rgba(0, 255, 204, 0.7);
    }
    .course-image-wrapper {
        position: relative;
        margin-bottom: 20px;
    }
    .course-image {
        width: 100%;
        height: 220px;
        object-fit: cover;
        border-radius: 10px;
        transition: transform 0.3s ease;
    }
    .course-card:hover .course-image {
        transform: scale(1.05);
    }
    .course-card h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.6rem;
        color: #00ffcc;
        margin-bottom: 15px;
    }
    .course-card p {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin-bottom: 15px;
    }
    .course-price {
        font-weight: bold;
        color: #00ffcc;
    }
    .btn-course {
        background: #00ffcc;
        color: #000;
        padding: 12px 25px;
        border-radius: 5px;
        text-decoration: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
    }
    .btn-course:hover {
        background: #00ccff;
        box-shadow: 0 0 25px rgba(0, 204, 255, 0.8);
    }
    .testimonials {
        margin-top: 70px;
    }
    .testimonials h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.2rem;
        color: #00ffcc;
        text-align: center;
        margin-bottom: 35px;
    }
    .testimonial-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 35px;
    }
    .testimonial-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid #00ffcc;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        transition: transform 0.3s ease;
    }
    .testimonial-card:hover {
        transform: scale(1.05);
    }
    .testimonial-card p {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin-bottom: 15px;
    }
    .testimonial-card h4 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.3rem;
        color: #00ffcc;
    }
    .products {
        padding: 100px 0;
        background: rgba(0, 0, 0, 0.95);
    }
    .products h2 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        color: #00ffcc;
        text-align: center;
        margin-bottom: 25px;
    }
    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 35px;
    }
    .product-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid #00ffcc;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .product-card:hover {
        transform: translateY(-15px);
        box-shadow: 0 0 40px rgba(0, 255, 204, 0.7);
    }
    .product-image-wrapper {
        position: relative;
        margin-bottom: 20px;
    }
    .product-image {
        width: 100%;
        height: 220px;
        object-fit: cover;
        border-radius: 10px;
    }
    .ar-button {
        position: absolute;
        bottom: 15px;
        right: 15px;
        background: #00ffcc;
        color: #000;
        padding: 8px 15px;
        border-radius: 5px;
        text-decoration: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
    }
    .ar-button:hover {
        background: #00ccff;
        box-shadow: 0 0 20px rgba(0, 204, 255, 0.8);
    }
    .product-card h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.6rem;
        color: #00ffcc;
        margin-bottom: 15px;
    }
    .product-card p {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin-bottom: 15px;
    }
    .product-price {
        font-weight: bold;
        color: #00ffcc;
    }
    .btn-product {
        background: #00ffcc;
        color: #000;
        padding: 12px 25px;
        border-radius: 5px;
        text-decoration: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
    }
    .btn-product:hover {
        background: #00ccff;
        box-shadow: 0 0 25px rgba(0, 204, 255, 0.8);
    }
    .mmn {
        padding: 100px 0;
        background: rgba(0, 0, 0, 0.95);
    }
    .mmn h2 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        color: #00ffcc;
        text-align: center;
        margin-bottom: 25px;
    }
    .mmn-content {
        display: flex;
        gap: 50px;
        flex-wrap: wrap;
        justify-content: center;
    }
    .mmn-info {
        flex: 1;
        min-width: 320px;
    }
    .mmn-info h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2rem;
        color: #00ffcc;
        margin-bottom: 25px;
    }
    .mmn-info ul {
        list-style: none;
        padding: 0;
    }
    .mmn-info li {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin-bottom: 15px;
        position: relative;
        padding-left: 25px;
    }
    .mmn-info li:before {
        content: '✔';
        position: absolute;
        left: 0;
        color: #00ffcc;
    }
    .btn-mmn {
        display: inline-block;
        background: #00ffcc;
        color: #000;
        padding: 15px 35px;
        border-radius: 5px;
        text-decoration: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
        margin-top: 25px;
    }
    .btn-mmn:hover {
        background: #00ccff;
        box-shadow: 0 0 35px rgba(0, 204, 255, 0.9);
    }
    .mmn-testimonials {
        flex: 1;
        min-width: 320px;
    }
    .mmn-testimonials h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2rem;
        color: #00ffcc;
        margin-bottom: 25px;
    }
    .cadastro-section, .login-section {
        padding: 100px 0;
        background: rgba(0, 0, 0, 0.95);
        text-align: center;
    }
    .cadastro-container, .login-container {
        max-width: 550px;
        margin: 0 auto;
    }
    .title-glow {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.8rem;
        color: #00ffcc;
        text-shadow: 0 0 25px rgba(0, 255, 204, 0.7);
        margin-bottom: 25px;
    }
    .subtitle {
        font-family: 'Roboto', sans-serif;
        font-size: 1.3rem;
        color: #fff;
        margin-bottom: 35px;
    }
    .cadastro-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    .form-field label {
        font-family: 'Roboto', sans-serif;
        color: #00ffcc;
        margin-bottom: 5px;
        display: block;
    }
    .input-glow {
        padding: 12px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid #00ffcc;
        border-radius: 5px;
        color: #fff;
        font-family: 'Roboto', sans-serif;
        transition: all 0.3s ease;
    }
    .input-glow:focus {
        outline: none;
        border-color: #00ccff;
        box-shadow: 0 0 15px rgba(0, 204, 255, 0.7);
    }
    .cadastro-form button {
        padding: 15px;
        background: #00ffcc;
        color: #000;
        border: none;
        border-radius: 5px;
        font-family: 'Orbitron', sans-serif;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .cadastro-form button:hover {
        background: #00ccff;
        box-shadow: 0 0 25px rgba(0, 204, 255, 0.9);
    }
    .form-footer {
        font-family: 'Roboto', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        margin-top: 25px;
    }
    .link-glow {
        color: #00ffcc;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    .link-glow:hover {
        color: #00ccff;
        text-shadow: 0 0 15px rgba(0, 204, 255, 0.7);
    }
    .error {
        color: #ff6666;
        font-size: 0.9rem;
        margin-top: 5px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const video = document.getElementById('hero-video');
        video.onerror = () => console.error('Erro ao carregar o vídeo:', video.error);
        video.onloadeddata = () => console.log('Vídeo carregado com sucesso!');

        // Conversão de Moedas
        const currencySelector = document.getElementById('currency-selector');
        const prices = document.querySelectorAll('.course-price, .product-price');

        async function updatePrices(currency) {
            try {
                const response = await fetch(`/get_exchange_rate/?base=${currency}`);
                const rates = await response.json();
                prices.forEach(price => {
                    const basePrice = parseFloat(price.getAttribute('data-price'));
                    const convertedPrice = (basePrice * rates.rates[currency]).toFixed(2);
                    price.textContent = `${convertedPrice} ${currency}`;
                });
            } catch (error) {
                console.error('Erro ao atualizar preços:', error);
            }
        }

        if (currencySelector) {
            currencySelector.addEventListener('change', (e) => {
                updatePrices(e.target.value);
            });
            updatePrices(currencySelector.value);
        }

        // Realidade Aumentada
        const arButtons = document.querySelectorAll('.ar-button');
        arButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const scene = button.nextElementSibling;
                const model = scene.querySelector('a-entity');
                model.setAttribute('visible', 'true');
            });
        });

        // Hologramas
        const hologramContainers = document.querySelectorAll('.hologram-product');
        hologramContainers.forEach(container => {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            const geometry = new THREE.TorusKnotGeometry(0.5, 0.15, 100, 16);
            const material = new THREE.MeshBasicMaterial({ color: 0x00ffcc, wireframe: true });
            const torusKnot = new THREE.Mesh(geometry, material);
            scene.add(torusKnot);

            camera.position.z = 2;

            const animate = () => {
                requestAnimationFrame(animate);
                torusKnot.rotation.x += 0.01;
                torusKnot.rotation.y += 0.01;
                renderer.render(scene, camera);
            };
            animate();
        });

        // Animações de Scroll
        const sections = document.querySelectorAll('.section-transition');
        const observerOptions = {
            threshold: 0.1
        };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);
        sections.forEach(section => observer.observe(section));
    });
</script>
{% endblock %}